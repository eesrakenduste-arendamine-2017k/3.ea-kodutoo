<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
    <script src="jquery-3.2.1.min.js"></script>
    <script src="firebase.js"></script>
    <script src="config.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css">
    <script type="text/javascript">
        function remove(id) {
            id = id.replace(/["_"]/g, " ");
            var articleToDelete = firebase.database().ref('news/'+id);
            articleToDelete.remove()
            data();
        }

        function data() {
            var divContents = "";
            var articlesTD = firebase.database().ref('news/');
            divContents = "<table style='width:100%;'><tr><th>Uudis</th><th>Link</th><th></th></tr>";
            articlesTD.once('value', function(snapshot) {
                for (var i in snapshot.val()) {
                    divContents += "<tr><td>"+snapshot.val()[i]["title"]+"</td><td><a href='"+snapshot.val()[i]["url"]+"'>"+snapshot.val()[i]["url"]+"</a></td><td><button onclick='remove(id)' id='"+i.replace(/[" "]/g, "_")+"'>Kustuta</button></td></tr>";
                }
                $("#tblContents").html(divContents);
            });         
        }

        firebase.initializeApp(config);
        data();
    </script>
</head>
<body>
    <div class="col-sm-10 col-sm-offset-1">
        <div id="tblContents"></div>
    </div>
</body>
</html>